{
  "timestamp": "2025-12-31 10:54:12",
  "base_url": "https://order-to-delivery.onrender.com",
  "total": 20,
  "passed": 4,
  "failed": 15,
  "results": [
    {
      "test_name": "Order within stock",
      "method": "POST",
      "url": "/orders/",
      "payload": {
        "sku": "FUR001",
        "quantity": 2
      },
      "expected_status": 201,
      "actual_status": 422,
      "passed": false,
      "response": {
        "success": false,
        "code": "validation_error",
        "message": "invalid request payload",
        "errors": [
          {
            "type": "missing",
            "loc": [
              "body",
              "customer_name"
            ],
            "msg": "Field required",
            "input": {
              "sku": "FUR001",
              "quantity": 2,
              "customer": "Test User"
            }
          },
          {
            "type": "missing",
            "loc": [
              "body",
              "items"
            ],
            "msg": "Field required",
            "input": {
              "sku": "FUR001",
              "quantity": 2,
              "customer": "Test User"
            }
          }
        ]
      }
    },
    {
      "test_name": "Order exact stock or close",
      "method": "POST",
      "url": "/orders/",
      "payload": {
        "sku": "FUR012",
        "quantity": 1
      },
      "expected_status": 201,
      "actual_status": 422,
      "passed": false,
      "response": {
        "success": false,
        "code": "validation_error",
        "message": "invalid request payload",
        "errors": [
          {
            "type": "missing",
            "loc": [
              "body",
              "customer_name"
            ],
            "msg": "Field required",
            "input": {
              "sku": "FUR012",
              "quantity": 1,
              "customer": "Test User"
            }
          },
          {
            "type": "missing",
            "loc": [
              "body",
              "items"
            ],
            "msg": "Field required",
            "input": {
              "sku": "FUR012",
              "quantity": 1,
              "customer": "Test User"
            }
          }
        ]
      }
    },
    {
      "note": "Order fetch skipped \u2014 order_id missing"
    },
    {
      "test_name": "List inventory",
      "method": "GET",
      "url": "/inventory/",
      "payload": null,
      "expected_status": 200,
      "actual_status": 200,
      "passed": true,
      "response": [
        {
          "sku": "FUR001",
          "name": "Wooden Chair",
          "stock": 4
        },
        {
          "sku": "FUR001",
          "name": "Wooden Chair",
          "stock": 30
        },
        {
          "sku": "FUR002",
          "name": "Office Chair",
          "stock": 60
        },
        {
          "sku": "FUR003",
          "name": "Recliner Chair",
          "stock": 40
        },
        {
          "sku": "FUR004",
          "name": "Dining Table",
          "stock": 16
        },
        {
          "sku": "FUR005",
          "name": "Coffee Table",
          "stock": 36
        },
        {
          "sku": "FUR006",
          "name": "Side Table",
          "stock": 40
        },
        {
          "sku": "FUR007",
          "name": "Study Desk",
          "stock": 24
        },
        {
          "sku": "FUR008",
          "name": "Office Desk",
          "stock": 20
        },
        {
          "sku": "FUR009",
          "name": "Bookshelf",
          "stock": 28
        },
        {
          "sku": "FUR010",
          "name": "Wardrobe",
          "stock": 18
        },
        {
          "sku": "FUR011",
          "name": "Sofa 2-Seater",
          "stock": 14
        },
        {
          "sku": "FUR012",
          "name": "Sofa 3-Seater",
          "stock": 12
        },
        {
          "sku": "FUR013",
          "name": "L-Shaped Sofa",
          "stock": 10
        },
        {
          "sku": "FUR014",
          "name": "TV Unit",
          "stock": 26
        },
        {
          "sku": "FUR015",
          "name": "TV Cabinet",
          "stock": 20
        },
        {
          "sku": "FUR016",
          "name": "Bed Queen Size",
          "stock": 16
        },
        {
          "sku": "FUR017",
          "name": "Bed King Size",
          "stock": 12
        },
        {
          "sku": "FUR018",
          "name": "Bed Single",
          "stock": 20
        },
        {
          "sku": "FUR019",
          "name": "Bedside Table",
          "stock": 40
        },
        {
          "sku": "FUR020",
          "name": "Shoe Rack",
          "stock": 32
        },
        {
          "sku": "FUR027",
          "name": "Folding Chair",
          "stock": 60
        },
        {
          "sku": "FUR040",
          "name": "Dining Bench",
          "stock": 24
        },
        {
          "sku": "FUR080",
          "name": "Reclining Sofa",
          "stock": 10
        },
        {
          "sku": "FUR120",
          "name": "Extendable Dining Table",
          "stock": 8
        },
        {
          "sku": "FUR021",
          "name": "Bar Stool",
          "stock": 25
        },
        {
          "sku": "FUR022",
          "name": "Armchair",
          "stock": 15
        },
        {
          "sku": "FUR023",
          "name": "Rocking Chair",
          "stock": 12
        },
        {
          "sku": "FUR024",
          "name": "Bean Bag Chair",
          "stock": 20
        },
        {
          "sku": "FUR025",
          "name": "Gaming Chair",
          "stock": 10
        },
        {
          "sku": "FUR026",
          "name": "Director's Chair",
          "stock": 8
        },
        {
          "sku": "FUR028",
          "name": "Wingback Chair",
          "stock": 7
        },
        {
          "sku": "FUR029",
          "name": "Lounge Chair",
          "stock": 9
        },
        {
          "sku": "FUR030",
          "name": "Dining Chair",
          "stock": 35
        },
        {
          "sku": "FUR031",
          "name": "Console Table",
          "stock": 14
        },
        {
          "sku": "FUR032",
          "name": "Accent Table",
          "stock": 18
        },
        {
          "sku": "FUR033",
          "name": "Nesting Tables",
          "stock": 12
        },
        {
          "sku": "FUR034",
          "name": "Outdoor Table",
          "stock": 10
        },
        {
          "sku": "FUR035",
          "name": "Folding Table",
          "stock": 22
        },
        {
          "sku": "FUR036",
          "name": "Computer Desk",
          "stock": 16
        },
        {
          "sku": "FUR037",
          "name": "Writing Desk",
          "stock": 11
        },
        {
          "sku": "FUR038",
          "name": "Corner Desk",
          "stock": 9
        },
        {
          "sku": "FUR039",
          "name": "Standing Desk",
          "stock": 8
        },
        {
          "sku": "FUR041",
          "name": "Sectional Sofa",
          "stock": 6
        },
        {
          "sku": "FUR042",
          "name": "Loveseat",
          "stock": 10
        },
        {
          "sku": "FUR043",
          "name": "Chaise Lounge",
          "stock": 5
        },
        {
          "sku": "FUR044",
          "name": "Convertible Sofa",
          "stock": 7
        },
        {
          "sku": "FUR045",
          "name": "Futon",
          "stock": 12
        },
        {
          "sku": "FUR046",
          "name": "Sleeper Sofa",
          "stock": 4
        },
        {
          "sku": "FUR047",
          "name": "Chesterfield Sofa",
          "stock": 3
        },
        {
          "sku": "FUR048",
          "name": "Mid-Century Sofa",
          "stock": 6
        },
        {
          "sku": "FUR049",
          "name": "Bunk Bed",
          "stock": 5
        },
        {
          "sku": "FUR050",
          "name": "Trundle Bed",
          "stock": 4
        },
        {
          "sku": "FUR051",
          "name": "Canopy Bed",
          "stock": 3
        },
        {
          "sku": "FUR052",
          "name": "Platform Bed",
          "stock": 10
        },
        {
          "sku": "FUR053",
          "name": "Adjustable Bed",
          "stock": 6
        },
        {
          "sku": "FUR054",
          "name": "Daybed",
          "stock": 7
        },
        {
          "sku": "FUR055",
          "name": "Murphy Bed",
          "stock": 2
        },
        {
          "sku": "FUR056",
          "name": "Four-Poster Bed",
          "stock": 4
        },
        {
          "sku": "FUR057",
          "name": "Chest of Drawers",
          "stock": 12
        },
        {
          "sku": "FUR058",
          "name": "Dresser",
          "stock": 15
        },
        {
          "sku": "FUR059",
          "name": "Nightstand",
          "stock": 20
        },
        {
          "sku": "FUR060",
          "name": "Entertainment Center",
          "stock": 8
        },
        {
          "sku": "FUR061",
          "name": "Storage Ottoman",
          "stock": 14
        },
        {
          "sku": "FUR062",
          "name": "Bookcase",
          "stock": 18
        },
        {
          "sku": "FUR063",
          "name": "Sideboard",
          "stock": 10
        },
        {
          "sku": "FUR064",
          "name": "Cabinet",
          "stock": 11
        },
        {
          "sku": "FUR065",
          "name": "Wine Rack",
          "stock": 7
        },
        {
          "sku": "FUR066",
          "name": "Patio Chair",
          "stock": 16
        },
        {
          "sku": "FUR067",
          "name": "Outdoor Sofa",
          "stock": 5
        },
        {
          "sku": "FUR068",
          "name": "Hammock",
          "stock": 8
        },
        {
          "sku": "FUR069",
          "name": "Picnic Table",
          "stock": 6
        },
        {
          "sku": "FUR070",
          "name": "Adirondack Chair",
          "stock": 12
        },
        {
          "sku": "FUR071",
          "name": "Outdoor Bench",
          "stock": 10
        },
        {
          "sku": "FUR072",
          "name": "Sun Lounger",
          "stock": 9
        },
        {
          "sku": "FUR073",
          "name": "Kids Bed",
          "stock": 8
        },
        {
          "sku": "FUR074",
          "name": "Kids Chair",
          "stock": 15
        },
        {
          "sku": "FUR075",
          "name": "Kids Table",
          "stock": 12
        },
        {
          "sku": "FUR076",
          "name": "Toy Chest",
          "stock": 10
        },
        {
          "sku": "FUR077",
          "name": "Bunk Bed with Desk",
          "stock": 4
        },
        {
          "sku": "FUR078",
          "name": "Kids Bookshelf",
          "stock": 14
        },
        {
          "sku": "FUR079",
          "name": "Executive Chair",
          "stock": 10
        },
        {
          "sku": "FUR081",
          "name": "Conference Table",
          "stock": 3
        },
        {
          "sku": "FUR082",
          "name": "Filing Cabinet",
          "stock": 8
        },
        {
          "sku": "FUR083",
          "name": "Desk Organizer",
          "stock": 20
        },
        {
          "sku": "FUR084",
          "name": "Whiteboard",
          "stock": 7
        },
        {
          "sku": "FUR085",
          "name": "Room Divider",
          "stock": 5
        },
        {
          "sku": "FUR086",
          "name": "Mirror",
          "stock": 12
        },
        {
          "sku": "FUR087",
          "name": "Wall Shelf",
          "stock": 18
        },
        {
          "sku": "FUR088",
          "name": "Coat Rack",
          "stock": 10
        },
        {
          "sku": "FUR089",
          "name": "Ladder Shelf",
          "stock": 6
        },
        {
          "sku": "FUR090",
          "name": "Floating Shelf",
          "stock": 15
        },
        {
          "sku": "FUR091",
          "name": "Bar Cart",
          "stock": 8
        },
        {
          "sku": "FUR092",
          "name": "TV Stand",
          "stock": 11
        },
        {
          "sku": "FUR093",
          "name": "Magazine Rack",
          "stock": 9
        },
        {
          "sku": "FUR094",
          "name": "Plant Stand",
          "stock": 14
        },
        {
          "sku": "FUR095",
          "name": "Stool",
          "stock": 20
        },
        {
          "sku": "FUR096",
          "name": "Foldable Desk",
          "stock": 12
        },
        {
          "sku": "FUR097",
          "name": "Wall-Mounted Desk",
          "stock": 7
        },
        {
          "sku": "FUR098",
          "name": "Corner Shelf",
          "stock": 10
        },
        {
          "sku": "FUR099",
          "name": "Underbed Storage",
          "stock": 90
        },
        {
          "sku": "FUR100",
          "name": "Jewelry Armoire",
          "stock": 5
        },
        {
          "sku": "FUR101",
          "name": "Shoe Cabinet",
          "stock": 11
        },
        {
          "sku": "FUR102",
          "name": "Hat Stand",
          "stock": 6
        },
        {
          "sku": "FUR103",
          "name": "Umbrella Stand",
          "stock": 9
        },
        {
          "sku": "FUR104",
          "name": "Pet Bed",
          "stock": 15
        },
        {
          "sku": "FUR105",
          "name": "Pet House",
          "stock": 7
        },
        {
          "sku": "FUR106",
          "name": "Kitchen Island",
          "stock": 4
        },
        {
          "sku": "FUR107",
          "name": "Breakfast Bar",
          "stock": 6
        },
        {
          "sku": "FUR108",
          "name": "Wet Bar",
          "stock": 3
        },
        {
          "sku": "FUR109",
          "name": "Vanity",
          "stock": 8
        },
        {
          "sku": "FUR110",
          "name": "Medicine Cabinet",
          "stock": 10
        },
        {
          "sku": "FUR111",
          "name": "Linen Cabinet",
          "stock": 7
        },
        {
          "sku": "FUR112",
          "name": "Spice Rack",
          "stock": 12
        },
        {
          "sku": "FUR113",
          "name": "Cutlery Organizer",
          "stock": 15
        },
        {
          "sku": "FUR114",
          "name": "Kitchen Cart",
          "stock": 9
        },
        {
          "sku": "FUR115",
          "name": "Bakers Rack",
          "stock": 6
        },
        {
          "sku": "FUR116",
          "name": "Pantry Cabinet",
          "stock": 5
        },
        {
          "sku": "FUR117",
          "name": "Wine Cabinet",
          "stock": 4
        },
        {
          "sku": "FUR118",
          "name": "Display Cabinet",
          "stock": 8
        },
        {
          "sku": "FUR119",
          "name": "Curio Cabinet",
          "stock": 3
        }
      ]
    },
    {
      "test_name": "Increase stock",
      "method": "PATCH",
      "url": "/inventory/FUR001",
      "payload": {
        "stock": 5
      },
      "expected_status": 200,
      "actual_status": 200,
      "passed": true,
      "response": {
        "sku": "FUR001",
        "name": "Wooden Chair",
        "stock": 5
      }
    },
    {
      "test_name": "Decrease stock",
      "method": "PATCH",
      "url": "/inventory/FUR001",
      "payload": {
        "stock": -2
      },
      "expected_status": 200,
      "actual_status": 422,
      "passed": false,
      "response": {
        "success": false,
        "code": "validation_error",
        "message": "invalid request payload",
        "errors": [
          {
            "type": "greater_than_equal",
            "loc": [
              "body",
              "stock"
            ],
            "msg": "Input should be greater than or equal to 0",
            "input": -2,
            "ctx": {
              "ge": 0
            }
          }
        ]
      }
    },
    {
      "test_name": "Order large stock item",
      "method": "POST",
      "url": "/orders/",
      "payload": {
        "sku": "FUR099",
        "quantity": 5
      },
      "expected_status": 201,
      "actual_status": 422,
      "passed": false,
      "response": {
        "success": false,
        "code": "validation_error",
        "message": "invalid request payload",
        "errors": [
          {
            "type": "missing",
            "loc": [
              "body",
              "customer_name"
            ],
            "msg": "Field required",
            "input": {
              "sku": "FUR099",
              "quantity": 5,
              "customer": "Test User"
            }
          },
          {
            "type": "missing",
            "loc": [
              "body",
              "items"
            ],
            "msg": "Field required",
            "input": {
              "sku": "FUR099",
              "quantity": 5,
              "customer": "Test User"
            }
          }
        ]
      }
    },
    {
      "test_name": "Add new SKU",
      "method": "PATCH",
      "url": "/inventory/NEW001",
      "payload": {
        "stock": 15
      },
      "expected_status": 200,
      "actual_status": 404,
      "passed": false,
      "response": {
        "detail": {
          "success": false,
          "code": "sku_not_found",
          "message": "sku not found",
          "sku": "NEW001"
        }
      }
    },
    {
      "test_name": "Order low stock item",
      "method": "POST",
      "url": "/orders/",
      "payload": {
        "sku": "FUR047",
        "quantity": 1
      },
      "expected_status": 201,
      "actual_status": 422,
      "passed": false,
      "response": {
        "success": false,
        "code": "validation_error",
        "message": "invalid request payload",
        "errors": [
          {
            "type": "missing",
            "loc": [
              "body",
              "customer_name"
            ],
            "msg": "Field required",
            "input": {
              "sku": "FUR047",
              "quantity": 1,
              "customer": "Test User"
            }
          },
          {
            "type": "missing",
            "loc": [
              "body",
              "items"
            ],
            "msg": "Field required",
            "input": {
              "sku": "FUR047",
              "quantity": 1,
              "customer": "Test User"
            }
          }
        ]
      }
    },
    {
      "test_name": "Case sensitivity SKU",
      "method": "POST",
      "url": "/orders/",
      "payload": {
        "sku": "fur001",
        "quantity": 1
      },
      "expected_status": 422,
      "actual_status": 422,
      "passed": true,
      "response": {
        "success": false,
        "code": "validation_error",
        "message": "invalid request payload",
        "errors": [
          {
            "type": "missing",
            "loc": [
              "body",
              "customer_name"
            ],
            "msg": "Field required",
            "input": {
              "sku": "fur001",
              "quantity": 1,
              "customer": "Test User"
            }
          },
          {
            "type": "missing",
            "loc": [
              "body",
              "items"
            ],
            "msg": "Field required",
            "input": {
              "sku": "fur001",
              "quantity": 1,
              "customer": "Test User"
            }
          }
        ]
      }
    },
    {
      "test_name": "Order above stock",
      "method": "POST",
      "url": "/orders/",
      "payload": {
        "sku": "FUR001",
        "quantity": 9999
      },
      "expected_status": 400,
      "actual_status": 422,
      "passed": false,
      "response": {
        "success": false,
        "code": "validation_error",
        "message": "invalid request payload",
        "errors": [
          {
            "type": "missing",
            "loc": [
              "body",
              "customer_name"
            ],
            "msg": "Field required",
            "input": {
              "sku": "FUR001",
              "quantity": 9999,
              "customer": "Test User"
            }
          },
          {
            "type": "missing",
            "loc": [
              "body",
              "items"
            ],
            "msg": "Field required",
            "input": {
              "sku": "FUR001",
              "quantity": 9999,
              "customer": "Test User"
            }
          }
        ]
      }
    },
    {
      "test_name": "Invalid SKU",
      "method": "POST",
      "url": "/orders/",
      "payload": {
        "sku": "BADSKU123",
        "quantity": 1
      },
      "expected_status": 404,
      "actual_status": 422,
      "passed": false,
      "response": {
        "success": false,
        "code": "validation_error",
        "message": "invalid request payload",
        "errors": [
          {
            "type": "missing",
            "loc": [
              "body",
              "customer_name"
            ],
            "msg": "Field required",
            "input": {
              "sku": "BADSKU123",
              "quantity": 1,
              "customer": "Test User"
            }
          },
          {
            "type": "missing",
            "loc": [
              "body",
              "items"
            ],
            "msg": "Field required",
            "input": {
              "sku": "BADSKU123",
              "quantity": 1,
              "customer": "Test User"
            }
          }
        ]
      }
    },
    {
      "test_name": "Zero quantity",
      "method": "POST",
      "url": "/orders/",
      "payload": {
        "sku": "FUR001",
        "quantity": 0
      },
      "expected_status": 400,
      "actual_status": 422,
      "passed": false,
      "response": {
        "success": false,
        "code": "validation_error",
        "message": "invalid request payload",
        "errors": [
          {
            "type": "missing",
            "loc": [
              "body",
              "customer_name"
            ],
            "msg": "Field required",
            "input": {
              "sku": "FUR001",
              "quantity": 0,
              "customer": "Test User"
            }
          },
          {
            "type": "missing",
            "loc": [
              "body",
              "items"
            ],
            "msg": "Field required",
            "input": {
              "sku": "FUR001",
              "quantity": 0,
              "customer": "Test User"
            }
          }
        ]
      }
    },
    {
      "test_name": "Negative quantity",
      "method": "POST",
      "url": "/orders/",
      "payload": {
        "sku": "FUR001",
        "quantity": -2
      },
      "expected_status": 400,
      "actual_status": 422,
      "passed": false,
      "response": {
        "success": false,
        "code": "validation_error",
        "message": "invalid request payload",
        "errors": [
          {
            "type": "missing",
            "loc": [
              "body",
              "customer_name"
            ],
            "msg": "Field required",
            "input": {
              "sku": "FUR001",
              "quantity": -2,
              "customer": "Test User"
            }
          },
          {
            "type": "missing",
            "loc": [
              "body",
              "items"
            ],
            "msg": "Field required",
            "input": {
              "sku": "FUR001",
              "quantity": -2,
              "customer": "Test User"
            }
          }
        ]
      }
    },
    {
      "test_name": "Force negative stock",
      "method": "PATCH",
      "url": "/inventory/FUR001",
      "payload": {
        "stock": -9999
      },
      "expected_status": 400,
      "actual_status": 422,
      "passed": false,
      "response": {
        "success": false,
        "code": "validation_error",
        "message": "invalid request payload",
        "errors": [
          {
            "type": "greater_than_equal",
            "loc": [
              "body",
              "stock"
            ],
            "msg": "Input should be greater than or equal to 0",
            "input": -9999,
            "ctx": {
              "ge": 0
            }
          }
        ]
      }
    },
    {
      "test_name": "Patch invalid SKU",
      "method": "PATCH",
      "url": "/inventory/ABC111",
      "payload": {
        "stock": 5
      },
      "expected_status": 404,
      "actual_status": 404,
      "passed": true,
      "response": {
        "detail": {
          "success": false,
          "code": "sku_not_found",
          "message": "sku not found",
          "sku": "ABC111"
        }
      }
    },
    {
      "test_name": "Missing quantity",
      "method": "POST",
      "url": "/orders/",
      "payload": {
        "sku": "FUR001"
      },
      "expected_status": 400,
      "actual_status": 422,
      "passed": false,
      "response": {
        "success": false,
        "code": "validation_error",
        "message": "invalid request payload",
        "errors": [
          {
            "type": "missing",
            "loc": [
              "body",
              "customer_name"
            ],
            "msg": "Field required",
            "input": {
              "sku": "FUR001"
            }
          },
          {
            "type": "missing",
            "loc": [
              "body",
              "items"
            ],
            "msg": "Field required",
            "input": {
              "sku": "FUR001"
            }
          }
        ]
      }
    },
    {
      "test_name": "Non-numeric quantity",
      "method": "POST",
      "url": "/orders/",
      "payload": {
        "sku": "FUR001",
        "quantity": "five"
      },
      "expected_status": 400,
      "actual_status": 422,
      "passed": false,
      "response": {
        "success": false,
        "code": "validation_error",
        "message": "invalid request payload",
        "errors": [
          {
            "type": "missing",
            "loc": [
              "body",
              "customer_name"
            ],
            "msg": "Field required",
            "input": {
              "sku": "FUR001",
              "quantity": "five"
            }
          },
          {
            "type": "missing",
            "loc": [
              "body",
              "items"
            ],
            "msg": "Field required",
            "input": {
              "sku": "FUR001",
              "quantity": "five"
            }
          }
        ]
      }
    },
    {
      "test_name": "Injection attempt",
      "method": "POST",
      "url": "/orders/",
      "payload": {
        "sku": "FUR001;DROP",
        "quantity": 1
      },
      "expected_status": 400,
      "actual_status": 422,
      "passed": false,
      "response": {
        "success": false,
        "code": "validation_error",
        "message": "invalid request payload",
        "errors": [
          {
            "type": "missing",
            "loc": [
              "body",
              "customer_name"
            ],
            "msg": "Field required",
            "input": {
              "sku": "FUR001;DROP",
              "quantity": 1,
              "customer": "Test User"
            }
          },
          {
            "type": "missing",
            "loc": [
              "body",
              "items"
            ],
            "msg": "Field required",
            "input": {
              "sku": "FUR001;DROP",
              "quantity": 1,
              "customer": "Test User"
            }
          }
        ]
      }
    },
    {
      "test_name": "Fetch missing order",
      "method": "GET",
      "url": "/orders/812f9eb5-53a7-41c8-b83a-4060c419c92e",
      "payload": null,
      "expected_status": 404,
      "actual_status": 422,
      "passed": false,
      "response": {
        "success": false,
        "code": "validation_error",
        "message": "invalid request payload",
        "errors": [
          {
            "type": "int_parsing",
            "loc": [
              "path",
              "order_id"
            ],
            "msg": "Input should be a valid integer, unable to parse string as an integer",
            "input": "812f9eb5-53a7-41c8-b83a-4060c419c92e"
          }
        ]
      }
    }
  ]
}